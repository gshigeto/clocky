<!--
  Generated template for the History page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>History</ion-title>
    <ion-buttons end>
      <button ion-button icon-only (tap)="shift.exportTimesheet()">
        <ion-icon name="cloud-upload"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>

</ion-header>


<ion-content>
  <div *ngIf="shifts.length === 0 && !loading" text-center>
    <p>Get started by clocking in!</p>
  </div>
  <ion-list [ngClass]="{'fadeInUp': !loading, 'hide': loading}" class="animated" *ngIf="shifts.length > 0 && !loading">
    <ion-item-sliding #slidingItem *ngFor="let shift of shifts">

      <ion-item>
        <h2>{{shift.clockIn | date: 'MM/dd/y'}}</h2>
        <p>{{shift.clockIn | date: 'h:mm:ss a'}} - {{shift.clockOut | date: 'h:mm:ss a'}}</p>
        <ion-note item-right>{{shift | duration}}</ion-note>
      </ion-item>

      <ion-item-options>
        <button ion-button color="danger" (click)="confirmDelete(shift.id, slidingItem)" *ngIf="shift.clockOut"><ion-icon name="trash"></ion-icon> Delete</button>
      </ion-item-options>

    </ion-item-sliding>
  </ion-list>
</ion-content>
